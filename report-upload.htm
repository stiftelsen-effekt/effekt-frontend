<html>
    <head>
        <style>
        html, body {
            font-family: sans-serif;
        }
        </style>
    </head>
    <body>
            <!-- 
                LIVE
            -->
            <h2>Live</h2>
            <h3>Vipps</h3>
            <form action="https://api.gieffektivt.no/reports/vipps/?token=46bc14d858615a06bd9670bccca59df5d536da068686507ca9274a73b9ad7f71&pretty=true" method="POST" encType="multipart/form-data">
                <input type="file" name="report" />
                <input type="submit" value="Upload" />
            </form>
            
            <h3>Paypal</h3>
            <form action="https://api.gieffektivt.no/reports/paypal/?token=46bc14d858615a06bd9670bccca59df5d536da068686507ca9274a73b9ad7f71&pretty=true" method="POST" encType="multipart/form-data">
                <input type="file" name="report" />
                <input type="submit" value="Upload" />
            </form>

            <h3>GET: Range</h3>
            <form id="getRangeForm" target="_blank">
                <input type="date" id="range_fromDate" />
                <input type="date" id="range_toDate" />
                <select id="range_paymentMethod">
                    <option value="3">PayPal</option>
                    <option value="4">Vipps</option>
                </select>
                <input type="submit" value="Hent rapport" />
            </form>

            <script>
            var rangeForm = document.getElementById("getRangeForm");

            var fromDate = document.getElementById("range_fromDate");
            var toDate = document.getElementById("range_toDate");

            var paymentMethod = document.getElementById("range_paymentMethod");

            rangeForm.addEventListener("submit", function() {
                console.log("Heyhey");

                var url = `https://api.gieffektivt.no/reports/range?fromDate=${fromDate.value}&toDate=${toDate.value}&paymentMethodIDs=${paymentMethod.value}&filetype=excel&token=46bc14d858615a06bd9670bccca59df5d536da068686507ca9274a73b9ad7f71`;
                window.open(url, "_blank");
            });
            </script>

            <h3>POST: Confirm donation</h3>
            <form action="https://api.gieffektivt.no/donations/confirm/?token=46bc14d858615a06bd9670bccca59df5d536da068686507ca9274a73b9ad7f71&pretty=true" id="confirmDonation" method="POST" target="_blank">
                <input type="date" name="date_confirmed" placeholder="date" required />
                <input type="time"  name="time_confirmed" placeholder="time" required />
                <input type="number" name="KID" placeholder="KID" required />
                <input type="number" name="sum_confirmed" placeholder="sum" required/>
                <input type="number" name="sum_confirmed_repeat" placeholder="repeat sum" required/>
                <input type="text" name="external_ref" placeholder="external_ref">
                <select name="payment_method_id">
                    <option value="3">PayPal</option>
                    <option value="4">Vipps</option>
                    <option value="2">Bank</option>
                </select>
                <input type="submit" value="confirm">
            </form>

            <hr >

            <!-- 

                DEV

            -->
            <h2>Dev</h2>
            <h3>Vipps</h3>
            <form action="http://localhost/reports/vipps/?token=9aa819250ecf4140de06220e92bf8b52c888fdb48e60bdc42e21f17fdc67b273&pretty=true" method="POST" encType="multipart/form-data">
                <input type="file" name="report" />
                <input type="submit" value="Upload" />
            </form>
            
            <h3>Paypal</h3>
            <form action="http://localhost/reports/paypal/?token=9aa819250ecf4140de06220e92bf8b52c888fdb48e60bdc42e21f17fdc67b273&pretty=true" method="POST" encType="multipart/form-data">
                <input type="file" name="report" />
                <input type="submit" value="Upload" />
            </form>

            <h3>GET: Range</h3>
            <form id="dev_getRangeForm" target="_blank">
                <input type="date" id="dev_range_fromDate" />
                <input type="date" id="dev_range_toDate" />
                <select id="dev_range_paymentMethod">
                    <option value="3">PayPal</option>
                    <option value="4">Vipps</option>
                </select>
                <input type="submit" value="Hent rapport" />
            </form>

            <h3>POST: Confirm donation</h3>
            <form action="http://localhost/donations/confirm/?token=9aa819250ecf4140de06220e92bf8b52c888fdb48e60bdc42e21f17fdc67b273" id="dev_confirmDonation" method="POST" target="_blank">
                <input type="date" name="date_confirmed" placeholder="date" required />
                <input type="time"  name="time_confirmed" placeholder="time" required />
                <input type="number" name="KID" placeholder="KID" required />
                <input type="number" name="sum_confirmed" placeholder="sum" required/>
                <input type="number" name="sum_confirmed_repeat" placeholder="repeat sum" required/>
                <input type="text" name="external_ref" placeholder="external_ref">
                <select name="payment_method_id">
                    <option value="3">PayPal</option>
                    <option value="4">Vipps</option>
                    <option value="2">Bank</option>
                </select>
                <input type="submit" value="confirm">
            </form>

            <script>
            /*
            DEV RANGE DONATION
            */
            const api_token = "46bc14d858615a06bd9670bccca59df5d536da068686507ca9274a73b9ad7f71";

            var dev_rangeForm = document.getElementById("dev_getRangeForm");

            var dev_fromDate = document.getElementById("dev_range_fromDate");
            var dev_toDate = document.getElementById("dev_range_toDate");

            var dev_paymentMethod = document.getElementById("dev_range_paymentMethod");

            dev_rangeForm.addEventListener("submit", function() {
                var url = `http://localhost/reports/range?fromDate=${dev_fromDate.value}&toDate=${dev_toDate.value}&filetype=excel&paymentMethodIDs=${dev_paymentMethod.value}&token=${api_token}`;
                window.open(url, "_blank");
            });
            </script>
    </body>
</html>



